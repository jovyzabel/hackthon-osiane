{% extends "layouts/base.html" %}

{% block content %}
<form method="POST" action="{{ url_for('auth.login', next=request.args.get('next')) }}">
    {# Si vous utilisez WTForms, vous feriez form.hidden_tag() ici #}
    {# Sinon, pour CSRF avec Flask natif, il faudrait l'ajouter manuellement si activé #}
    <div>
        <label for="email">Email :</label>
        <input type="email" id="email" name="email" required value="{{ request.form.email if request.form.email }}">
    </div>
    <div>
        <label for="password">Mot de passe :</label>
        <input type="password" id="password" name="password" required>
    </div>
    <div>
        {# <input type="checkbox" name="remember_me" id="remember_me"> <label for="remember_me">Se souvenir de moi</label> #}
    </div>
    <button type="submit">Se connecter</button>
</form>
<p>
    Ceci est la page de connexion pour les utilisateurs internes (Secrétaire, Analyste, Admin).<br>
    Si vous êtes un parent, utilisez le <a href="{{ url_for('core.submit_dossier_form') }}">formulaire de soumission</a>.
</p>
{# Optionnel: Lien pour créer le premier admin #}
{# <p><a href="{{ url_for('auth.register_admin_once') }}">Créer un compte admin (premier usage)</a></p> #}

{% endblock %}